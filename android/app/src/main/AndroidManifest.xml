<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:tools="http://schemas.android.com/tools"
        package="org.coolreader"
        android:installLocation="auto">

    <supports-screens
            android:anyDensity="true"
            android:largeScreens="true"
            android:normalScreens="true"
            android:resizeable="true"
            android:smallScreens="true"
            android:xlargeScreens="true" />

    <uses-sdk tools:overrideLibrary="com.google.android.gms.auth.api,
                                    com.google.android.gms.auth.api.phone,
                                    com.google.android.gms.auth,
                                    com.google.android.gms.base,
                                    com.google.android.gms.tasks,
                                    com.google.android.gms.common,
                                    androidx.arch.core,
                                    androidx.core,
                                    androidx.fragment,
                                    androidx.legacy.coreui,
                                    androidx.legacy.coreutils,
                                    androidx.loader,
                                    androidx.viewpager,
                                    androidx.coordinatorlayout,
                                    androidx.drawerlayout,
                                    androidx.slidingpanelayout,
                                    androidx.customview,
                                    androidx.swiperefreshlayout,
                                    androidx.asynclayoutinflater,
                                    androidx.versionedparcelable,
                                    androidx.lifecycle,
                                    androidx.lifecycle.viewmodel,
                                    androidx.lifecycle.livedata,
                                    androidx.lifecycle.livedata.core,
                                    androidx.interpolator,
                                    androidx.cursoradapter,
                                    androidx.documentfile,
                                    androidx.localbroadcastmanager,
                                    androidx.print"
            />

    <uses-permission android:name="android.permission.WAKE_LOCK" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" /> <!-- uses-permission android:name="android.permission.WRITE_MEDIA_STORAGE"/ -->
    <uses-permission android:name="android.permission.MANAGE_EXTERNAL_STORAGE" /> <!-- Api Level 30 -->
    <uses-permission android:name="android.permission.QUERY_ALL_PACKAGES" /> <!-- Api Level 30 -->
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.READ_PHONE_STATE" /> <!-- Hide Android3 soft buttons on Archos -->
    <!-- foreground TTS control service, for API >= 28 -->
    <uses-permission android:name="android.permission.FOREGROUND_SERVICE"/>
    <!-- uses-permission android:name="archos.permission.FULLSCREEN.FULL"/ -->
    <!-- Required permission to use in-app billing. -->
    <uses-permission android:name="com.android.vending.BILLING" />
    <!-- Needed for making a desision - should we try to use online dictionary, or network is not available -->
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />

    <application tools:replace="android:label"
            android:allowBackup="true"
            android:label="${appLabel}"
            android:allowClearUserData="true"
            android:icon="@mipmap/known_reader_logo"
            android:process="org.knownreader.premium"
            android:resizeableActivity="true"
            android:usesCleartextTraffic="true"
            android:requestLegacyExternalStorage="true"
            >

        <meta-data android:name="android.max_aspect" android:value="2.1" />
        <!--                    android:configChanges="orientation|keyboardHidden|locale|screenSize" -->

        <activity
                android:name=".CoolReader"
                android:configChanges="orientation|keyboardHidden|locale|screenSize|screenLayout|layoutDirection"
                android:label="${appLabel}"
                android:launchMode="singleInstance"
                android:screenOrientation="sensor"
                android:theme="@android:style/Theme.NoTitleBar"
                android:windowSoftInputMode="stateAlwaysHidden">
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data
                        android:host="github.com"
                        android:pathPattern=".*code=.*"
                        android:pathPrefix="/plotn/coolreader"
                        android:scheme="https" />
            </intent-filter>
            <intent-filter>
                <action android:name="KnownReader.sendText" />
                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
                <category android:name="android.intent.category.MULTIWINDOW_LAUNCHER" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.LAUNCHER" />
                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.pml" />
                <data android:pathPattern="/.*\\.azw" />
                <data android:pathPattern="/.*\\.tcr" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern=".*\\.pml" />
                <data android:pathPattern=".*\\.azw" />
                <data android:pathPattern=".*\\.tcr" />
                <data android:pathPattern="/.*\\.AZW" />
                <data android:pathPattern=".*\\.AZW" />
                <data android:pathPattern="/.*\\.azw" />
                <data android:pathPattern=".*\\.azw" />
                <data android:pathPattern=".*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*..*\\.azw" />
                <data android:pathPattern=".*..*..*\\.azw" />
                <data android:pathPattern=".*..*..*..*\\.azw" />
                <data android:pathPattern=".*..*..*..*..*\\.azw" />
                <data android:pathPattern=".*..*..*..*..*..*\\.azw" />
                <data android:pathPattern=".*..*..*..*..*..*..*\\.azw" />
                <data android:pathPattern=".*..*..*..*..*..*..*..*\\.azw" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern=".*\\.pml" />
                <data android:pathPattern=".*\\.azw" />
                <data android:pathPattern=".*\\.tcr" />
                <data android:pathPattern="/.*\\.AZW" />
                <data android:pathPattern=".*\\.AZW" />
                <data android:pathPattern="/.*\\.azw" />
                <data android:pathPattern=".*\\.azw" />
                <data android:pathPattern=".*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*..*\\.azw" />
                <data android:pathPattern=".*..*..*\\.azw" />
                <data android:pathPattern=".*..*..*..*\\.azw" />
                <data android:pathPattern=".*..*..*..*..*\\.azw" />
                <data android:pathPattern=".*..*..*..*..*..*\\.azw" />
                <data android:pathPattern=".*..*..*..*..*..*..*\\.azw" />
                <data android:pathPattern=".*..*..*..*..*..*..*..*\\.azw" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data
                        android:host="*"
                        android:scheme="http" />
                <data android:pathPattern=".*\\.azw" />
                <data android:pathPattern=".*\\.tcr" />
                <data android:pathPattern=".*\\.pml" />
                <data android:pathPattern="/.*\\.AZW" />
                <data android:pathPattern=".*\\.AZW" />
                <data android:pathPattern="/.*\\.azw" />
                <data android:pathPattern=".*\\.azw" />
                <data android:pathPattern=".*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\..*\\.azw" />
                <data android:pathPattern=".*..*\\.azw" />
                <data android:pathPattern=".*..*..*\\.azw" />
                <data android:pathPattern=".*..*..*..*\\.azw" />
                <data android:pathPattern=".*..*..*..*..*\\.azw" />
                <data android:pathPattern=".*..*..*..*..*..*\\.azw" />
                <data android:pathPattern=".*..*..*..*..*..*..*\\.azw" />
                <data android:pathPattern=".*..*..*..*..*..*..*..*\\.azw" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data
                        android:host="*"
                        android:scheme="file" />
                <data android:mimeType="application/x-pilot-prc" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.SEND" />
                <category android:name="android.intent.category.DEFAULT" />
                <data android:mimeType="text/plain" />
            </intent-filter>
        </activity> <!-- alias activity to disable PIC -->
        <activity-alias
                android:name=".KnownReaderForPIC"
                android:targetActivity=".CoolReader">

            <!-- intent-filter with recognized extensions and */* mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:host="*" />
                <data android:scheme="file" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.jpg" />
                <data android:pathPattern="/.*\\..*\\.jpg" />
                <data android:pathPattern="/.*\\..*\\..*\\.jpg" />
                <data android:pathPattern="/.*\\.jpeg" />
                <data android:pathPattern="/.*\\..*\\.jpeg" />
                <data android:pathPattern="/.*\\..*\\..*\\.jpeg" />
                <data android:pathPattern="/.*\\.png" />
                <data android:pathPattern="/.*\\..*\\.png" />
                <data android:pathPattern="/.*\\..*\\..*\\.png" />
            </intent-filter>
            <!-- intent-filter with recognized extensions and null mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.jpg" />
                <data android:pathPattern="/.*\\..*\\.jpg" />
                <data android:pathPattern="/.*\\..*\\..*\\.jpg" />
                <data android:pathPattern="/.*\\.jpeg" />
                <data android:pathPattern="/.*\\..*\\.jpeg" />
                <data android:pathPattern="/.*\\..*\\..*\\.jpeg" />
                <data android:pathPattern="/.*\\.png" />
                <data android:pathPattern="/.*\\..*\\.png" />
                <data android:pathPattern="/.*\\..*\\..*\\.png" />
            </intent-filter>
            <!-- intent-filter with no extensions and recognized mime-types -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data android:scheme="file" />
                <data android:scheme="content" />
                <data android:mimeType="image/jpeg" />
                <data android:mimeType="image/png" />
                <data android:mimeType="image/*" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.SEND" />

                <category android:name="android.intent.category.DEFAULT" />

                <data android:mimeType="image/jpeg" />
                <data android:mimeType="image/png" />
                <data android:mimeType="image/*" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.SEND_MUTIPLE" />

                <category android:name="android.intent.category.DEFAULT" />

                <data android:mimeType="image/jpeg" />
                <data android:mimeType="image/png" />
                <data android:mimeType="image/*" />
            </intent-filter>
        </activity-alias> <!-- alias activity to disable MOBI -->
        <activity-alias
                android:name=".KnownReaderForMOBI"
                android:targetActivity=".CoolReader">

            <!-- intent-filter with recognized extensions and */* mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.mobi" />
                <data android:pathPattern="/.*\\..*\\.mobi" />
                <data android:pathPattern="/.*\\..*\\..*\\.mobi" />
                <data android:pathPattern="/.*\\.prc" />
                <data android:pathPattern="/.*\\..*\\.prc" />
                <data android:pathPattern="/.*\\..*\\..*\\.prc" />
                <data android:pathPattern="/.*\\.pdb" />
                <data android:pathPattern="/.*\\..*\\.pdb" />
                <data android:pathPattern="/.*\\..*\\..*\\.pdb" />
                <data android:pathPattern="/.*\\.MOBI" />
                <data android:pathPattern=".*\\.MOBI" />
                <data android:pathPattern="/.*\\.mobi" />
                <data android:pathPattern=".*\\.mobi" />
                <data android:pathPattern=".*\\..*\\.mobi" />
                <data android:pathPattern=".*\\..*\\..*\\.mobi" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.mobi" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.mobi" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.mobi" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\.mobi" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\.mobi" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\..*\\.mobi" />
                <data android:pathPattern=".*..*\\.mobi" />
                <data android:pathPattern=".*..*..*\\.mobi" />
                <data android:pathPattern=".*..*..*..*\\.mobi" />
                <data android:pathPattern=".*..*..*..*..*\\.mobi" />
                <data android:pathPattern=".*..*..*..*..*..*\\.mobi" />
                <data android:pathPattern=".*..*..*..*..*..*..*\\.mobi" />
                <data android:pathPattern=".*..*..*..*..*..*..*..*\\.mobi" />
                <data android:pathPattern=".*\\.PDB" />
                <data android:pathPattern="/.*\\.PDB" />
                <data android:pathPattern=".*\\.pdb" />
                <data android:pathPattern="/.*\\.pdb" />
                <data android:pathPattern=".*\\.PRC" />
                <data android:pathPattern="/.*\\.PRC" />
                <data android:pathPattern=".*\\.prc" />
                <data android:pathPattern="/.*\\.prc" />
            </intent-filter>
            <!-- intent-filter with recognized extensions and null mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.mobi" />
                <data android:pathPattern="/.*\\..*\\.mobi" />
                <data android:pathPattern="/.*\\..*\\..*\\.mobi" />
                <data android:pathPattern="/.*\\.prc" />
                <data android:pathPattern="/.*\\..*\\.prc" />
                <data android:pathPattern="/.*\\..*\\..*\\.prc" />
                <data android:pathPattern="/.*\\.pdb" />
                <data android:pathPattern="/.*\\..*\\.pdb" />
                <data android:pathPattern="/.*\\..*\\..*\\.pdb" />
                <data android:pathPattern="/.*\\.MOBI" />
                <data android:pathPattern=".*\\.MOBI" />
                <data android:pathPattern="/.*\\.mobi" />
                <data android:pathPattern=".*\\.mobi" />
                <data android:pathPattern=".*\\..*\\.mobi" />
                <data android:pathPattern=".*\\..*\\..*\\.mobi" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.mobi" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.mobi" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.mobi" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\.mobi" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\.mobi" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\..*\\.mobi" />
                <data android:pathPattern=".*..*\\.mobi" />
                <data android:pathPattern=".*..*..*\\.mobi" />
                <data android:pathPattern=".*..*..*..*\\.mobi" />
                <data android:pathPattern=".*..*..*..*..*\\.mobi" />
                <data android:pathPattern=".*..*..*..*..*..*\\.mobi" />
                <data android:pathPattern=".*..*..*..*..*..*..*\\.mobi" />
                <data android:pathPattern=".*..*..*..*..*..*..*..*\\.mobi" />
                <data android:pathPattern=".*\\.PDB" />
                <data android:pathPattern="/.*\\.PDB" />
                <data android:pathPattern=".*\\.pdb" />
                <data android:pathPattern="/.*\\.pdb" />
                <data android:pathPattern=".*\\.PRC" />
                <data android:pathPattern="/.*\\.PRC" />
                <data android:pathPattern=".*\\.prc" />
                <data android:pathPattern="/.*\\.prc" />
            </intent-filter>
            <!-- intent-filter with no extensions and recognized mime-types -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data android:scheme="file" />
                <data android:scheme="content" />
                <data android:mimeType="application/x-mobipocket-ebook" />
                <data android:mimeType="application/x-pdb-plucker-ebook" />
                <data android:mimeType="application/x-pdb-textread-ebook" />
                <data android:mimeType="application/x-pdb-peanutpress-ebook" />
                <data android:mimeType="application/x-pdb-ztxt-ebook" />
                <data android:mimeType="application/vnd.palm" />
                <data android:mimeType="application/x-pdb-plucker-ebook" />
            </intent-filter>
        </activity-alias> <!-- alias activity to disable DOCX -->
        <activity-alias
                android:name=".KnownReaderForDOC"
                android:targetActivity=".CoolReader">

            <!-- intent-filter with recognized extensions and */* mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.doc" />
                <data android:pathPattern="/.*\\..*\\.doc" />
                <data android:pathPattern="/.*\\..*\\..*\\.doc" />
            </intent-filter>
            <!-- intent-filter with recognized extensions and null mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.doc" />
                <data android:pathPattern="/.*\\..*\\.doc" />
                <data android:pathPattern="/.*\\..*\\..*\\.doc" />
            </intent-filter>
            <!-- intent-filter with no extensions and recognized mime-types -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data android:scheme="file" />
                <data android:scheme="content" />
                <data android:mimeType="application/msword" />
                <data android:mimeType="application/doc" />
                <data android:mimeType="application/vnd.msword" />
                <data android:mimeType="application/vnd.ms-word" />
                <data android:mimeType="application/winword" />
                <data android:mimeType="application/word" />
                <data android:mimeType="application/x-msw6" />
                <data android:mimeType="application/x-msword" />
                <data android:mimeType="application/vnd.openxmlformats-officedocument.wordprocessingml.document" />
                <data android:mimeType="application/textmaker.wordprocessingml.document" />
                <data android:mimeType="application/doc+zip" />
                <data android:mimeType="application/doc.zip" />
            </intent-filter>
        </activity-alias> <!-- alias activity to disable DOCX -->
        <activity-alias
                android:name=".KnownReaderForDOCX"
                android:targetActivity=".CoolReader">

            <!-- intent-filter with recognized extensions and */* mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.docx" />
                <data android:pathPattern="/.*\\..*\\.docx" />
                <data android:pathPattern="/.*\\..*\\..*\\.docx" />
                <data android:pathPattern="/.*\\.tmdx" />
                <data android:pathPattern="/.*\\..*\\.tmdx" />
                <data android:pathPattern="/.*\\..*\\..*\\.tmdx" />
                <data android:pathPattern="/.*\\.docm" />
                <data android:pathPattern="/.*\\..*\\.docm" />
                <data android:pathPattern="/.*\\..*\\..*\\.docm" />
                <data android:pathPattern=".*\\.docx" />
                <data android:pathPattern="/.*\\.docx" />
                <data android:pathPattern=".*\\.tmdx" />
                <data android:pathPattern="/.*\\.tmdx" />
                <data android:pathPattern=".*\\.docm" />
                <data android:pathPattern="/.*\\.docm" />
            </intent-filter>
            <!-- intent-filter with recognized extensions and null mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.docx" />
                <data android:pathPattern="/.*\\..*\\.docx" />
                <data android:pathPattern="/.*\\..*\\..*\\.docx" />
                <data android:pathPattern="/.*\\.tmdx" />
                <data android:pathPattern="/.*\\..*\\.tmdx" />
                <data android:pathPattern="/.*\\..*\\..*\\.tmdx" />
                <data android:pathPattern="/.*\\.docm" />
                <data android:pathPattern="/.*\\..*\\.docm" />
                <data android:pathPattern="/.*\\..*\\..*\\.docm" />
                <data android:pathPattern=".*\\.docx" />
                <data android:pathPattern="/.*\\.docx" />
                <data android:pathPattern=".*\\.tmdx" />
                <data android:pathPattern="/.*\\.tmdx" />
                <data android:pathPattern=".*\\.docm" />
                <data android:pathPattern="/.*\\.docm" />
            </intent-filter>
            <!-- intent-filter with no extensions and recognized mime-types -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data android:scheme="file" />
                <data android:scheme="content" />
                <data android:mimeType="application/vnd.openxmlformats-officedocument.wordprocessingml.document" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data android:scheme="file" />
                <data android:scheme="content" />
                <data android:mimeType="application/textmaker.wordprocessingml.document" />
            </intent-filter>
        </activity-alias> <!-- alias activity to disable RTF -->
        <activity-alias
                android:name=".KnownReaderForRTF"
                android:targetActivity=".CoolReader">

            <!-- intent-filter with recognized extensions and */* mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.rtf" />
                <data android:pathPattern="/.*\\..*\\.rtf" />
                <data android:pathPattern="/.*\\..*\\..*\\.rtf" />
                <data android:pathPattern="/.*\\.rtf.zip" />
                <data android:pathPattern="/.*\\..*\\.rtf.zip" />
                <data android:pathPattern="/.*\\..*\\..*\\.rtf.zip" />
                <data android:pathPattern=".*\\.RTF" />
                <data android:pathPattern="/.*\\.RTF" />
                <data android:pathPattern=".*\\.rtf" />
                <data android:pathPattern="/.*\\.rtf" />
            </intent-filter>
            <!-- intent-filter with recognized extensions and null mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.rtf" />
                <data android:pathPattern="/.*\\..*\\.rtf" />
                <data android:pathPattern="/.*\\..*\\..*\\.rtf" />
                <data android:pathPattern="/.*\\.rtf.zip" />
                <data android:pathPattern="/.*\\..*\\.rtf.zip" />
                <data android:pathPattern="/.*\\..*\\..*\\.rtf.zip" />
                <data android:pathPattern=".*\\.RTF" />
                <data android:pathPattern="/.*\\.RTF" />
                <data android:pathPattern=".*\\.rtf" />
                <data android:pathPattern="/.*\\.rtf" />
            </intent-filter>
            <!-- intent-filter with no extensions and recognized mime-types -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data android:scheme="file" />
                <data android:scheme="content" />
                <data android:mimeType="text/rtf" />
                <data android:mimeType="application/rtf" />
                <data android:mimeType="application/rtf+zip" />
                <data android:mimeType="application/x-rtf" />
                <data android:mimeType="text/richtext" />
                <data android:mimeType="text/rtf" />
                <data android:mimeType="application/rtf.zip" />
            </intent-filter>
        </activity-alias>
        <!-- alias activity to CHM -->
        <activity-alias
                android:name=".KnowmReaderForCHM"
                android:targetActivity=".CoolReader">

            <!-- intent-filter with recognized extensions and */* mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.chm" />
                <data android:pathPattern="/.*\\..*\\.chm" />
                <data android:pathPattern="/.*\\..*\\..*\\.chm" />
                <data android:pathPattern="/.*\\..*\\..*\\..*\\.chm" />
                <data android:pathPattern=".*\\.chm" />
                <data android:pathPattern=".*\\..*\\.chm" />
                <data android:pathPattern=".*\\..*\\..*\\.chm" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.chm" />
            </intent-filter>
            <!-- intent-filter with recognized extensions and null mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.chm" />
                <data android:pathPattern="/.*\\..*\\.chm" />
                <data android:pathPattern="/.*\\..*\\..*\\.chm" />
                <data android:pathPattern="/.*\\..*\\..\\..*\\.chm" />
                <data android:pathPattern=".*\\.chm" />
                <data android:pathPattern=".*\\..*\\.chm" />
                <data android:pathPattern=".*\\..*\\..*\\.chm" />
                <data android:pathPattern=".*\\..*\\..\\..*\\.chm" />
            </intent-filter>
            <!-- intent-filter with no extensions and recognized mime-types -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data android:scheme="file" />
                <data android:scheme="content" />
                <data android:mimeType="application/vnd.ms-htmlhelp" />
                <data android:mimeType="application/x-chm" />
            </intent-filter>
        </activity-alias> <!-- alias activity to disable HTML -->
        <activity-alias
                android:name=".KnownReaderForHTML"
                android:targetActivity=".CoolReader">

            <!-- intent-filter with recognized extensions and */* mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.html" />
                <data android:pathPattern="/.*\\..*\\.html" />
                <data android:pathPattern="/.*\\..*\\..*\\.html" />
                <data android:pathPattern="/.*\\.odt" />
                <data android:pathPattern="/.*\\..*\\.odt" />
                <data android:pathPattern="/.*\\..*\\..*\\.odt" />
                <data android:pathPattern="/.*\\..*\\..*\\..*\\.odt" />
                <data android:pathPattern="/.*\\.ods" />
                <data android:pathPattern="/.*\\..*\\.ods" />
                <data android:pathPattern="/.*\\..*\\..*\\.ods" />
                <data android:pathPattern="/.*\\.odp" />
                <data android:pathPattern="/.*\\..*\\.odp" />
                <data android:pathPattern="/.*\\..*\\..*\\.odp" />
                <data android:pathPattern="/.*\\.txt\\.htm" />
                <data android:pathPattern="/.*\\..*\\.txt\\.htm" />
                <data android:pathPattern="/.*\\..*\\..*\\.txt\\.htm" />
                <data android:pathPattern="/.*\\.xhtml" />
                <data android:pathPattern="/.*\\..*\\.xhtml" />
                <data android:pathPattern="/.*\\..*\\..*\\.xhtml" />
                <data android:pathPattern=".*\\.html" />
                <data android:pathPattern="/.*\\.html" />
                <data android:pathPattern=".*\\.HTML" />
                <data android:pathPattern="/.*\\.HTML" />
                <data android:pathPattern=".*\\.odt" />
                <data android:pathPattern="/.*\\.odt" />
                <data android:pathPattern=".*\\.ODT" />
                <data android:pathPattern="/.*\\.ODT" />
                <data android:pathPattern=".*\\.ods" />
                <data android:pathPattern="/.*\\.ods" />
                <data android:pathPattern=".*\\.ODS" />
                <data android:pathPattern="/.*\\.ODS" />
                <data android:pathPattern=".*\\.odp" />
                <data android:pathPattern="/.*\\.odp" />
                <data android:pathPattern=".*\\.ODP" />
                <data android:pathPattern="/.*\\.ODP" />
                <data android:pathPattern=".*\\.htm" />
                <data android:pathPattern="/.*\\.htm" />
                <data android:pathPattern=".*\\.HTM" />
                <data android:pathPattern="/.*\\.HTM" />
            </intent-filter>
            <!-- intent-filter with recognized extensions and null mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.html" />
                <data android:pathPattern="/.*\\..*\\.html" />
                <data android:pathPattern="/.*\\..*\\..*\\.html" />
                <data android:pathPattern="/.*\\.odt" />
                <data android:pathPattern="/.*\\..*\\.odt" />
                <data android:pathPattern="/.*\\..*\\..*\\.odt" />
                <data android:pathPattern="/.*\\..*\\..*\\..*\\.odt" />
                <data android:pathPattern="/.*\\.ods" />
                <data android:pathPattern="/.*\\..*\\.ods" />
                <data android:pathPattern="/.*\\..*\\..*\\.ods" />
                <data android:pathPattern="/.*\\.odp" />
                <data android:pathPattern="/.*\\..*\\.odp" />
                <data android:pathPattern="/.*\\..*\\..*\\.odp" />
                <data android:pathPattern="/.*\\.txt\\.htm" />
                <data android:pathPattern="/.*\\..*\\.txt\\.htm" />
                <data android:pathPattern="/.*\\..*\\..*\\.txt\\.htm" />
                <data android:pathPattern="/.*\\.xhtml" />
                <data android:pathPattern="/.*\\..*\\.xhtml" />
                <data android:pathPattern="/.*\\..*\\..*\\.xhtml" />
                <data android:pathPattern=".*\\.html" />
                <data android:pathPattern="/.*\\.html" />
                <data android:pathPattern=".*\\.HTML" />
                <data android:pathPattern="/.*\\.HTML" />
                <data android:pathPattern=".*\\.odt" />
                <data android:pathPattern="/.*\\.odt" />
                <data android:pathPattern=".*\\.ODT" />
                <data android:pathPattern="/.*\\.ODT" />
                <data android:pathPattern=".*\\.ods" />
                <data android:pathPattern="/.*\\.ods" />
                <data android:pathPattern=".*\\.ODS" />
                <data android:pathPattern="/.*\\.ODS" />
                <data android:pathPattern=".*\\.odp" />
                <data android:pathPattern="/.*\\.odp" />
                <data android:pathPattern=".*\\.ODP" />
                <data android:pathPattern="/.*\\.ODP" />
                <data android:pathPattern=".*\\.htm" />
                <data android:pathPattern="/.*\\.htm" />
                <data android:pathPattern=".*\\.HTM" />
                <data android:pathPattern="/.*\\.HTM" />
            </intent-filter>
            <!-- intent-filter with no extensions and recognized mime-types -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data android:scheme="file" />
                <data android:scheme="content" />
                <data android:mimeType="text/html" />
                <data android:mimeType="application/xhtml+xml" />
                <data android:mimeType="application/vnd.oasis.opendocument.text" />
                <data android:mimeType="application/vnd.oasis.opendocument.spreadsheet" />
                <data android:mimeType="application/vnd.oasis.opendocument.presentation" />
            </intent-filter>
        </activity-alias> <!-- alias activity to disable TXT -->
        <activity-alias
                android:name=".KnownReaderForTXT"
                android:targetActivity=".CoolReader">

            <!-- intent-filter with recognized extensions and */* mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.txt" />
                <data android:pathPattern="/.*\\..*\\.txt" />
                <data android:pathPattern="/.*\\..*\\..*\\.txt" />
                <data android:pathPattern="/.*\\.txt\\.zip" />
                <data android:pathPattern="/.*\\..*\\.txt\\.zip" />
                <data android:pathPattern="/.*\\..*\\..*\\.txt\\.zip" />
                <data android:pathPattern=".*\\.TXT" />
                <data android:pathPattern="/.*\\.TXT" />
                <data android:pathPattern=".*\\.txt" />
                <data android:pathPattern="/.*\\.txt" />
            </intent-filter>
            <!-- intent-filter with recognized extensions and null mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />
                <data android:pathPattern="/.*\\.txt" />
                <data android:pathPattern="/.*\\..*\\.txt" />
                <data android:pathPattern="/.*\\..*\\..*\\.txt" />
                <data android:pathPattern="/.*\\.txt\\.zip" />
                <data android:pathPattern="/.*\\..*\\.txt\\.zip" />
                <data android:pathPattern="/.*\\..*\\..*\\.txt\\.zip" />
                <data android:pathPattern=".*\\.TXT" />
                <data android:pathPattern="/.*\\.TXT" />
                <data android:pathPattern=".*\\.txt" />
                <data android:pathPattern="/.*\\.txt" />
            </intent-filter>
            <!-- intent-filter with no extensions and recognized mime-types -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data android:scheme="file" />
                <data android:scheme="content" />
                <data android:mimeType="text/plain" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data
                        android:host="*"
                        android:scheme="http" />
                <data android:mimeType="text/plain" />
            </intent-filter>
        </activity-alias> <!-- alias activity to disable EPUB -->
        <activity-alias
                android:name=".KnownReaderForEPUB"
                android:targetActivity=".CoolReader">

            <!-- intent-filter with recognized extensions and */* mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.epub" />
                <data android:pathPattern="/.*\\..*\\.epub" />
                <data android:pathPattern="/.*\\..*\\..*\\.epub" />
                <data android:pathPattern=".*\\.epub\\.zip" />
                <data android:pathPattern="/.*\\.epub\\.zip" />
                <data android:pathPattern=".*\\.epub" />
                <data android:pathPattern=".*\\.EPUB" />
                <data android:pathPattern="/.*\\.epub" />
                <data android:pathPattern="/.*\\.EPUB" />
                <data android:pathPattern=".*\\.epub\\.zip" />
                <data android:pathPattern="/.*\\.epub\\.zip" />
            </intent-filter>
            <!-- intent-filter with recognized extensions and null mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.epub" />
                <data android:pathPattern="/.*\\..*\\.epub" />
                <data android:pathPattern="/.*\\..*\\..*\\.epub" />
                <data android:pathPattern=".*\\.epub\\.zip" />
                <data android:pathPattern="/.*\\.epub\\.zip" />
                <data android:pathPattern=".*\\.epub" />
                <data android:pathPattern=".*\\.EPUB" />
                <data android:pathPattern="/.*\\.epub" />
                <data android:pathPattern="/.*\\.EPUB" />
                <data android:pathPattern=".*\\.epub\\.zip" />
                <data android:pathPattern="/.*\\.epub\\.zip" />
            </intent-filter>
            <!-- intent-filter with no extensions and recognized mime-types -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data android:scheme="file" />
                <data android:scheme="content" />
                <data android:mimeType="application/epub+zip" />
                <data android:mimeType="application/epub" />
            </intent-filter>
        </activity-alias>
        <activity-alias
                android:name=".KnownReaderForFB2"
                android:targetActivity=".CoolReader">

            <!-- intent-filter with recognized extensions and */* mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.fb2" />
                <data android:pathPattern="/.*\\..*\\.fb2" />
                <data android:pathPattern="/.*\\..*\\..*\\.fb2" />
                <data android:pathPattern="/.*\\.fb3" />
                <data android:pathPattern="/.*\\..*\\.fb3" />
                <data android:pathPattern="/.*\\..*\\..*\\.fb3" />
                <data android:pathPattern="/.*\\.fb2\\.zip" />
                <data android:pathPattern="/.*\\..*\\.fb2\\.zip" />
                <data android:pathPattern="/.*\\..*\\..*\\.fb2\\.zip" />
                <data android:pathPattern="/.*\\.fbz" />
                <data android:pathPattern="/.*\\..*\\.fbz" />
                <data android:pathPattern="/.*\\..*\\..*\\.fbz" />
                <data android:pathPattern="/.*\\.zip" />
                <data android:pathPattern="/.*\\..*\\.zip" />
                <data android:pathPattern="/.*\\..*\\..*\\.zip" />
                <data android:pathPattern=".*\\.fb2\\.zip" />
                <data android:pathPattern="/.*\\.fb2\\.zip" />
                <data android:pathPattern=".*\\.fb2.zip" />
                <data android:pathPattern="/.*\\.fb2.zip" />
                <data android:pathPattern=".*\\.zip" />
                <data android:pathPattern="/.*\\.zip" />
                <data android:pathPattern="/.*\\.FBZ" />
                <data android:pathPattern=".*\\.FBZ" />
                <data android:pathPattern="/.*\\.fbz" />
                <data android:pathPattern=".*\\.fbz" />
                <data android:pathPattern=".*\\..*\\.fbz" />
                <data android:pathPattern=".*\\..*\\..*\\.fbz" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.fbz" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.fbz" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.fbz" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\.fbz" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\.fbz" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\..*\\.fbz" />
                <data android:pathPattern=".*..*\\.fbz" />
                <data android:pathPattern=".*..*..*\\.fbz" />
                <data android:pathPattern=".*..*..*..*\\.fbz" />
                <data android:pathPattern=".*..*..*..*..*\\.fbz" />
                <data android:pathPattern=".*..*..*..*..*..*\\.fbz" />
                <data android:pathPattern=".*..*..*..*..*..*..*\\.fbz" />
                <data android:pathPattern=".*..*..*..*..*..*..*..*\\.fbz" />
                <data android:pathPattern="/.*\\.FB2" />
                <data android:pathPattern=".*\\.FB2" />
                <data android:pathPattern="/.*\\.fb2" />
                <data android:pathPattern=".*\\.fb2" />
                <data android:pathPattern=".*\\..*\\.fb2" />
                <data android:pathPattern=".*\\..*\\..*\\.fb2" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.fb2" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.fb2" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\.fb2" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\.fb2" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\..*\\.fb2" />
                <data android:pathPattern=".*..*\\.fb2" />
                <data android:pathPattern=".*..*..*\\.fb2" />
                <data android:pathPattern=".*..*..*..*\\.fb2" />
                <data android:pathPattern=".*..*..*..*..*\\.fb2" />
                <data android:pathPattern=".*..*..*..*..*..*\\.fb2" />
                <data android:pathPattern=".*..*..*..*..*..*..*\\.fb2" />
                <data android:pathPattern=".*..*..*..*..*..*..*..*\\.fb2" />
                <data android:pathPattern="/.*\\.FB3" />
                <data android:pathPattern=".*\\.FB3" />
                <data android:pathPattern="/.*\\.fb3" />
                <data android:pathPattern=".*\\.fb3" />
                <data android:pathPattern=".*\\..*\\.fb3" />
                <data android:pathPattern=".*\\..*\\..*\\.fb3" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.fb3" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.fb3" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\.fb3" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\.fb3" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\..*\\.fb3" />
                <data android:pathPattern=".*..*\\.fb3" />
                <data android:pathPattern=".*..*..*\\.fb3" />
                <data android:pathPattern=".*..*..*..*\\.fb3" />
                <data android:pathPattern=".*..*..*..*..*\\.fb3" />
                <data android:pathPattern=".*..*..*..*..*..*\\.fb3" />
                <data android:pathPattern=".*..*..*..*..*..*..*\\.fb3" />
                <data android:pathPattern=".*..*..*..*..*..*..*..*\\.fb3" />
            </intent-filter>
            <!-- intent-filter with recognized extensions and null mimeType -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.BROWSABLE" />
                <category android:name="android.intent.category.DEFAULT" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" />
                <data
                        android:host="*"
                        android:scheme="http" />

                <data android:pathPattern="/.*\\.fb2" />
                <data android:pathPattern="/.*\\..*\\.fb2" />
                <data android:pathPattern="/.*\\..*\\..*\\.fb2" />
                <data android:pathPattern="/.*\\.fb3" />
                <data android:pathPattern="/.*\\..*\\.fb3" />
                <data android:pathPattern="/.*\\..*\\..*\\.fb3" />
                <data android:pathPattern="/.*\\.fb2\\.zip" />
                <data android:pathPattern="/.*\\..*\\.fb2\\.zip" />
                <data android:pathPattern="/.*\\..*\\..*\\.fb2\\.zip" />
                <data android:pathPattern="/.*\\.fbz" />
                <data android:pathPattern="/.*\\..*\\.fbz" />
                <data android:pathPattern="/.*\\..*\\..*\\.fbz" />
                <data android:pathPattern="/.*\\.zip" />
                <data android:pathPattern="/.*\\..*\\.zip" />
                <data android:pathPattern="/.*\\..*\\..*\\.zip" />
                <data android:pathPattern=".*\\.fb2\\.zip" />
                <data android:pathPattern=".*\\..*\\.fb2\\.zip"/>
                <data android:pathPattern=".*\\..*\\..*\\.fb2\\.zip"/>
                <data android:pathPattern=".*\\..*\\..*\\..*\\.fb2\\.zip"/>
                <data android:pathPattern=".*\\.zip"/>
                <data android:pathPattern="/.*\\.fb2\\.zip" />
                <data android:pathPattern=".*\\.fb2.zip" />
                <data android:pathPattern="/.*\\.fb2.zip" />
                <data android:pathPattern="/.*\\.zip" />
                <data android:pathPattern="/.*\\.FBZ" />
                <data android:pathPattern=".*\\.FBZ" />
                <data android:pathPattern="/.*\\.fbz" />
                <data android:pathPattern=".*\\.fbz" />
                <data android:pathPattern=".*\\..*\\.fbz" />
                <data android:pathPattern=".*\\..*\\..*\\.fbz" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.fbz" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.fbz" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.fbz" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\.fbz" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\.fbz" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\..*\\.fbz" />
                <data android:pathPattern=".*..*\\.fbz" />
                <data android:pathPattern=".*..*..*\\.fbz" />
                <data android:pathPattern=".*..*..*..*\\.fbz" />
                <data android:pathPattern=".*..*..*..*..*\\.fbz" />
                <data android:pathPattern=".*..*..*..*..*..*\\.fbz" />
                <data android:pathPattern=".*..*..*..*..*..*..*\\.fbz" />
                <data android:pathPattern=".*..*..*..*..*..*..*..*\\.fbz" />
                <data android:pathPattern="/.*\\.FB2" />
                <data android:pathPattern=".*\\.FB2" />
                <data android:pathPattern="/.*\\.fb2" />
                <data android:pathPattern=".*\\.fb2" />
                <data android:pathPattern=".*\\..*\\.fb2" />
                <data android:pathPattern=".*\\..*\\..*\\.fb2" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.fb2" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.fb2" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\.fb2" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\.fb2" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\..*\\.fb2" />
                <data android:pathPattern=".*..*\\.fb2" />
                <data android:pathPattern=".*..*..*\\.fb2" />
                <data android:pathPattern=".*..*..*..*\\.fb2" />
                <data android:pathPattern=".*..*..*..*..*\\.fb2" />
                <data android:pathPattern=".*..*..*..*..*..*\\.fb2" />
                <data android:pathPattern=".*..*..*..*..*..*..*\\.fb2" />
                <data android:pathPattern=".*..*..*..*..*..*..*..*\\.fb2" />
                <data android:pathPattern="/.*\\.FB3" />
                <data android:pathPattern=".*\\.FB3" />
                <data android:pathPattern="/.*\\.fb3" />
                <data android:pathPattern=".*\\.fb3" />
                <data android:pathPattern=".*\\..*\\.fb3" />
                <data android:pathPattern=".*\\..*\\..*\\.fb3" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.fb3" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.fb3" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\.fb3" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\.fb3" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\..*\\..*\\..*\\.fb3" />
                <data android:pathPattern=".*..*\\.fb3" />
                <data android:pathPattern=".*..*..*\\.fb3" />
                <data android:pathPattern=".*..*..*..*\\.fb3" />
                <data android:pathPattern=".*..*..*..*..*\\.fb3" />
                <data android:pathPattern=".*..*..*..*..*..*\\.fb3" />
                <data android:pathPattern=".*..*..*..*..*..*..*\\.fb3" />
                <data android:pathPattern=".*..*..*..*..*..*..*..*\\.fb3" />
            </intent-filter>
            <!-- intent-filter with no extensions and recognized mime-types -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <action android:name="android.intent.action.VIEW" />
                <action android:name="android.intent.action.GET_CONTENT" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data android:scheme="file" android:host="*" />
                <data android:scheme="content" android:host="*"/>
                <data
                        android:host="*"
                        android:scheme="http" />
                <data android:mimeType="application/x-fictionbook+xml" />
                <data android:mimeType="application/x-fictionbook" />
                <data android:mimeType="application/x-fb2" />
                <data android:mimeType="application/fb2" />
                <data android:mimeType="application/fb3" />
                <data android:mimeType="application/fb2.zip" />
                <data android:mimeType="application/zip" />
                <data android:mimeType="text/fb2+xml" />
                <data android:mimeType="application/fb2" />
                <data android:mimeType="application/fb3" />
                <data android:mimeType="application/fb2+zip" />
                <data android:mimeType="application/x-zip-compressed-fb2" />
                <data android:mimeType="application/x-fictionbook-ebook" />
                <data android:mimeType="application/x-fictionbook+zip" />
                <data android:mimeType="application/octet-stream" />
            </intent-filter>
        </activity-alias> <!-- Sync support -->

        <activity
                android:name=".ProcessTextAct"
                android:label="${appLabel}"
                >
            <intent-filter>
                <action android:name="android.intent.action.PROCESS_TEXT" />
                <data android:mimeType="text/plain"/>
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>
        <activity android:name="net.rdrei.android.dirchooser.DirectoryChooserActivity">
        </activity>
        <!-- <service android:name=".sync.SyncService" /> -->
        <!-- Database service -->
        <service
                android:name=".db.CRDBService"
                android:enabled="true"
                android:exported="false" />
        <!-- Donations support -->
        <!--
        <service android:name=".donations.BillingService" />

        <receiver android:name="org.coolreader.donations.BillingReceiver">
            <intent-filter>
                <action android:name="com.android.vending.billing.IN_APP_NOTIFY" />
                <action android:name="com.android.vending.billing.RESPONSE_CODE" />
                <action android:name="com.android.vending.billing.PURCHASE_STATE_CHANGED" />
            </intent-filter>
        </receiver>
        -->
        <!-- TTS control service -->
        <service
                android:name=".tts.TTSControlService"
                android:enabled="true"
                android:exported="false"
                android:foregroundServiceType="mediaPlayback" />
        <!-- Stop TTS on incoming call -->
        <receiver android:name=".PhoneStateReceiver">
            <intent-filter>
                <action android:name="android.intent.action.PHONE_STATE" />
            </intent-filter>
        </receiver>

        <!-- TTS control service -->
        <service
                android:name=".tts.legacy.TTSControlServiceLegacy"
                android:enabled="true"
                android:exported="false"
                android:foregroundServiceType="mediaPlayback" />
        <!-- Stop TTS on incoming call -->
        <receiver android:name=".PhoneStateReceiver">
            <intent-filter>
                <action android:name="android.intent.action.PHONE_STATE" />
            </intent-filter>
        </receiver>

    </application>

</manifest>